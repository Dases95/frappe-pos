/* Point of Sale - Vuetify Enhanced Styles */
/* All styles are scoped to .pos-page to avoid affecting other Frappe pages */
/* The Vuetify CSS is disabled via JavaScript when leaving POS page */

/* ============================================
   Hide POS Vue app when not on POS page
   ============================================ */
body:not(.pos-page) #pos-vue-app {
	display: none !important;
}

/* ============================================
   POS Page Container & Layout
   ============================================ */
.pos-page {
	background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);
	min-height: 100vh;
}

.pos-page .layout-main-section {
	padding: 0 !important;
}

.pos-page .page-container {
	background: transparent !important;
}

.pos-page .pos-main {
	background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);
	min-height: 100vh;
}

.pos-page .pos-container {
	max-width: 1800px;
	margin: 0 auto;
}

/* ============================================
   Header Card
   ============================================ */
.pos-page .header-card {
	border-radius: 12px !important;
	overflow: hidden;
}

.pos-page .header-card .v-toolbar {
	background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%) !important;
}

/* ============================================
   Session Dialog
   ============================================ */
.pos-page .session-dialog .v-card {
	border-radius: 16px !important;
	overflow: hidden;
}

.pos-page .session-card {
	border-radius: 16px !important;
}

/* ============================================
   Products Section
   ============================================ */
.pos-page .products-card {
	border-radius: 12px !important;
	overflow: hidden;
}

.pos-page .products-header {
	background: linear-gradient(135deg, #fafafa 0%, #f0f0f0 100%);
}

.pos-page .search-field .v-field {
	border-radius: 20px !important;
}

/* Product Cards */
.pos-page .product-card {
	border-radius: 12px !important;
	cursor: pointer;
	transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, border-color 0.12s ease-out !important;
	border: 2px solid transparent !important;
	min-height: 180px;
	-webkit-tap-highlight-color: transparent;
	touch-action: manipulation;
	user-select: none;
}

.pos-page .product-card:hover {
	transform: translateY(-4px);
	box-shadow: 0 8px 25px rgba(21, 101, 192, 0.15) !important;
	border-color: #1565C0 !important;
}

.pos-page .product-card:active {
	transform: scale(0.97) !important;
	transition: transform 0.05s ease-out !important;
}

.pos-page .product-card.out-of-stock {
	opacity: 0.5;
	cursor: not-allowed;
	background: #f5f5f5 !important;
}

.pos-page .product-card.out-of-stock:hover {
	transform: none;
	box-shadow: none !important;
	border-color: transparent !important;
}

.pos-page .product-icon {
	height: 50px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.pos-page .product-name {
	height: 40px;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
	line-height: 1.3;
}

.pos-page .product-code {
	font-size: 11px !important;
}

/* Product Info Button */
.pos-page .product-info-btn {
	position: absolute !important;
	top: 8px !important;
	right: 8px !important;
	z-index: 10 !important;
	opacity: 0.7;
	transition: opacity 0.2s;
}

.pos-page .product-card:hover .product-info-btn {
	opacity: 1;
}

.pos-page .product-card .position-relative {
	position: relative;
}

/* ============================================
   Cart Section
   ============================================ */
.pos-page .cart-card {
	border-radius: 12px !important;
	overflow: hidden;
}

.pos-page .cart-header {
	background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
}

.pos-page .cart-items {
	background: #fafafa;
}

.pos-page .cart-item {
	border-bottom: 1px solid #eee !important;
	transition: background 0.2s;
}

.pos-page .cart-item:hover {
	background: #f5f5f5;
}

.pos-page .cart-item:last-child {
	border-bottom: none !important;
}

.pos-page .cart-total {
	background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
}

/* Modifying Invoice State */
.pos-page .cart-card.modifying-invoice {
	border: 2px solid #FFA000 !important;
	box-shadow: 0 4px 20px rgba(255, 160, 0, 0.2) !important;
}

.pos-page .cart-card.modifying-invoice .cart-header {
	background: linear-gradient(135deg, #FFF8E1 0%, #FFE082 100%) !important;
}

.pos-page .invoice-item-selected {
	background: rgba(21, 101, 192, 0.08) !important;
	border-left: 4px solid #1565C0 !important;
}

/* ============================================
   Payment Section
   ============================================ */
.pos-page .payment-card {
	border-radius: 12px !important;
	overflow: hidden;
}

.pos-page .payment-header {
	background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
}

/* ============================================
   Shortcuts Section
   ============================================ */
.pos-page .shortcuts-card {
	border-radius: 12px !important;
	overflow: hidden;
}

/* ============================================
   Receipt & Invoice
   ============================================ */
.pos-page .receipt-card {
	border-radius: 12px !important;
}

.pos-page .receipt-card .v-table {
	background: transparent !important;
}

.pos-page .receipt-card .v-table td {
	padding: 8px 4px !important;
}

.pos-page .invoice-item {
	border-radius: 8px !important;
	margin-bottom: 8px;
	border: 1px solid #e0e0e0 !important;
	transition: all 0.2s;
}

.pos-page .invoice-item:hover {
	background: #f5f5f5;
	border-color: #1565C0 !important;
}

/* ============================================
   Vuetify Component Overrides (POS Only)
   ============================================ */
.pos-page .v-application {
	font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, sans-serif;
}

.pos-page .v-card {
	box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) !important;
}

.pos-page .v-btn {
	text-transform: none !important;
	letter-spacing: 0 !important;
	font-weight: 500 !important;
}

.pos-page .v-chip {
	font-weight: 500 !important;
}

.pos-page .v-badge .v-badge__badge {
	font-weight: 600 !important;
}

.pos-page .v-chip-group .v-chip {
	margin: 4px !important;
}

.pos-page .v-alert {
	border-radius: 8px !important;
}

.pos-page .v-dialog {
	border-radius: 16px !important;
}

.pos-page .v-skeleton-loader {
	border-radius: 12px !important;
}

.pos-page .v-field--variant-outlined .v-field__outline {
	border-radius: 8px;
}

.pos-page .v-field--focused .v-field__outline {
	border-color: #1565C0 !important;
}

.pos-page .v-list-item--link:hover {
	background: rgba(21, 101, 192, 0.04) !important;
}

/* ============================================
   Snackbar (POS Only)
   ============================================ */
.pos-page .v-snackbar__wrapper {
	border-radius: 8px !important;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.pos-page .pos-snackbar {
	pointer-events: none;
}

.pos-page .pos-snackbar .v-snackbar__wrapper {
	pointer-events: auto;
}

.pos-page .v-snackbar .v-overlay__scrim,
.pos-page .v-snackbar__overlay {
	display: none !important;
	opacity: 0 !important;
	pointer-events: none !important;
}

/* ============================================
   Overlay & Performance (POS Only)
   ============================================ */
.pos-page .v-overlay--active {
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
}

.pos-page .v-overlay__scrim {
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
}

.pos-page .v-overlay--active.v-dialog__scrim,
.pos-page .v-dialog .v-overlay__scrim {
	background: rgba(0, 0, 0, 0.4) !important;
	backdrop-filter: none !important;
}

.pos-page .v-overlay:not(.v-dialog__content):not(.v-menu__content) {
	pointer-events: none !important;
}

/* Disable ripple on product cards for faster feedback */
.pos-page .product-card .v-ripple__container {
	display: none !important;
}

/* Faster ripple on buttons */
.pos-page .v-btn .v-ripple__container {
	transition-duration: 0.15s !important;
}

/* ============================================
   Custom Scrollbar (POS Only)
   ============================================ */
.pos-page ::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

.pos-page ::-webkit-scrollbar-track {
	background: #f1f1f1;
	border-radius: 4px;
}

.pos-page ::-webkit-scrollbar-thumb {
	background: #c1c1c1;
	border-radius: 4px;
}

.pos-page ::-webkit-scrollbar-thumb:hover {
	background: #a8a8a8;
}

/* ============================================
   Animations (POS Only)
   ============================================ */
@keyframes pos-pulse {
	0%, 100% { transform: scale(1); }
	50% { transform: scale(1.05); }
}

.pos-page .v-badge--dot .v-badge__badge {
	animation: pos-pulse 2s infinite;
}

/* ============================================
   Frappe Layout Overrides (POS Only)
   ============================================ */
.pos-page .page-head,
.pos-page .page-title {
	display: none !important;
}

.pos-page .main-section {
	padding: 0 !important;
	margin: 0 !important;
}

.pos-page .container {
	max-width: 100% !important;
	padding: 0 !important;
}

.pos-page .frappe-control {
	display: none;
}

/* ============================================
   RTL Support (POS Only)
   ============================================ */
[dir="rtl"] .pos-page .v-list-item__append {
	margin-left: 0;
	margin-right: auto;
}

[dir="rtl"] .pos-page .cart-item .d-flex {
	flex-direction: row-reverse;
}

/* ============================================
   POS-Specific Utility Classes
   ============================================ */
.pos-page .pos-text-success {
	color: #388E3C !important;
}

.pos-page .pos-text-warning {
	color: #FFA000 !important;
}

.pos-page .pos-text-error {
	color: #D32F2F !important;
}

.pos-page .pos-text-primary {
	color: #1565C0 !important;
}

.pos-page .pos-gradient-primary {
	background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%);
}

.pos-page .pos-gradient-success {
	background: linear-gradient(135deg, #388E3C 0%, #2E7D32 100%);
}

.pos-page .pos-gradient-warning {
	background: linear-gradient(135deg, #FFA000 0%, #FF8F00 100%);
}

.pos-page .empty-cart-icon {
	opacity: 0.3;
}

/* ============================================
   Responsive Adjustments (POS Only)
   ============================================ */
@media (max-width: 1280px) {
	.pos-page .pos-container {
		padding: 12px !important;
	}
	
	.pos-page .product-card {
		min-height: 160px;
	}
}

@media (max-width: 960px) {
	.pos-page .product-card {
		min-height: 150px;
	}
	
	.pos-page .product-name {
		font-size: 12px !important;
	}
	
	.pos-page .product-price {
		font-size: 14px !important;
	}
}

@media (max-width: 600px) {
	.pos-page .header-card .v-toolbar-title {
		font-size: 16px !important;
	}
	
	.pos-page .cart-header .v-autocomplete {
		display: none !important;
	}
	
	.pos-page .product-card {
		min-height: 140px;
	}
}

/* ============================================
   Print Styles (POS Only)
   ============================================ */
@media print {
	.pos-page .v-navigation-drawer,
	.pos-page .v-app-bar,
	.pos-page .v-btn,
	.pos-page .header-card {
		display: none !important;
	}
	
	.pos-page .v-dialog {
		position: static !important;
		box-shadow: none !important;
	}
	
	.pos-page .v-overlay {
		display: none !important;
	}
	
	.pos-page .receipt-card {
		box-shadow: none !important;
		border: 1px solid #000 !important;
	}
}
